{%extends 'jinja_forms.html'%}
{% block content %}

  {%include 'nav.html' %}
  {% for course in courses %}
    <!-- Page Header -->
    <header class="masthead" style="background-image: url('{{ url_for('static', filename='img/post-bg.jpg') }}')">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="post-heading">
              <h1>{{ course['title'] }}</h1>
              <h2 class="subheading">{{ course['subtitle'] }}</h2>
              <span class="meta">Posted by {{ course['posted_by'] }}
                on {{ course['day_posted'].strftime('%B %d, %Y') }} </span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Post Content -->
    <article>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            {{ course['content']|safe }}
          </div>
        </div>
      </div>
    </article>

    <hr>

    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
        {% for review in reviews %}
          <div class="post-preview">
            <a href="">
              <h3 class="post-title">
                {{ review['pros'] }}
              </h3>
              <h3 class="post-subtitle">
                {{ review['cons'] }}
              </h3>
              <h3 class="post-subtitle">
                {{ review['comment'] }}
              </h3>
            </a>
            <p class="post-meta">Posted by {{ review['posted_by'] }} on {{ review['day_posted'].strftime('%B %d, %Y') }} </p>
          </div>
          <hr>
          {% endfor %}
        </div>
      </div>
    </div>

    {% if g.user_role == 'student' %}
    <div class="container">
      <div class="card bg-light">
      <article class="card-body mx-auto" style="max-width: 600px;">
          <br><br>
          <h4 class="card-title mt-3 text-center">Додати відгук до курсу</h4>
          <br>
          <form action="{{ url_for('addreview') }}" name="addForm" id="addForm" method="POST" class="needs-validation" novalidate>
              <div class="rating">
                <input type="radio" name="rating" value="5" id="5">
                <label for="5">☆</label>
                <input type="radio" name="rating" value="4" id="4">
                <label for="4">☆</label>
                <input type="radio" name="rating" value="3" id="3">
                <label for="3">☆</label>
                <input type="radio" name="rating" value="2" id="2">
                <label for="2">☆</label>
                <input type="radio" name="rating" value="1" id="1">
                <label for="1">☆</label>
                <h6>Оцінка:</h6>
              </div>
              <div class="control-group">
                  <div class="form-group floating-label-form-group controls">
                    <label>Переваги</label>
                    <input type="text" class="form-control" placeholder="Переваги" name="pros" id="pros">
                  </div>
              </div>
              <div class="control-group">
                  <div class="form-group floating-label-form-group controls">
                    <label>Недоліки</label>
                    <input type="text" class="form-control" placeholder="Недоліки" name="cons" id="cons">
                  </div>
              </div>
              <div class="control-group">
                <div class="form-group floating-label-form-group controls">
                  <label>Коментар</label>
                  <textarea rows="5" class="form-control" placeholder="Коментар" name="comment" id="comment"></textarea>
                </div>
              </div>
              <div class="control-group" style="display: none;">
                  <input type="text" class="form-control" name="course_id" id="course_id" value="{{ course['id'] }}">
              </div>
              <br>
              <div id="success"></div>
              <div class="form-group" id="submit_button">
                <button type="submit" class="btn btn-primary btn-block">Додати</button>
              </div>
          </form>
      </article>
      </div>
    </div>
    {% endif %}
  {% endfor %} 
{% endblock %}